# 注意事项

1. 所有接口请求都需要加入user_id这个字段，因为鉴权是在业务逻辑里面进行的
2. 修改文件 counseling.py urls.py intervention.py 
## 管理端——咨询档案

需要仿照咨询师端的这些接口在管理员端添加下面四个接口

### 获取咨询档案的详细咨询记录 

**URL:** `api/admin/interview/records/profile`

**请求：**

```json
{  
	"user_id": 3,
	"token": "688d4907-80b8-41b3-93d0-c5a20d43a4c6",
    "id": 1  
}   
```

**响应：**

```json
{
  "code": 0,
  "message": "string",
  "data": [
    {
      "id": 0,
      "count": "string",
      "name": "string",
      "gender": "string",
      "studentId": "string",
      "school": "string",
      "grade": "string",
      "class": "string",
      "date": "string",
      "time": "string",
      "duration": "string",
      "visitStatus": "string",
      "description": "string",
      "doctorEvaluation": "string",
      "followUpPlan": "string",
      "nextVisitPlan": "string",
      "crisisStatus": "string",
      "consultantName": "string",
      "signatureImage": "string",
      "attachImage": "string",
      "isThirdPartyEvaluation": true
    }
  ]
}
```

### 新建一条咨询记录

**URL:** `api/admin/interview/records/profile/create`

**请求：**

```json
{
  "user_id": "string",
  "token": "string",
  "id": "string",
  "count": "string",
  "name": "string",
  "gender": "string",
  "studentId": "string",
  "school": "string",
  "grade": "string",
  "class": "string",
  "date": "string",
  "time": "string",
  "duration": "string",
  "visitStatus": "string",
  "description": "string",
  "doctorEvaluation": "string",
  "followUpPlan": "string",
  "nextVisitPlan": "string",
  "crisisStatus": "string",
  "consultantName": "string",
  "isThirdPartyEvaluation": "string",
  "signatureImage": "file",
  "attachImages": "file"
}
```

**说明：**
- `user_id`: 必选，管理员用户ID
- `token`: 必选，认证Token
- `id`: 必选，咨询档案id
- `signatureImage`: 可选，文件类型（签名图片）
- `attachImages`: 可选，文件类型（附加图片，支持多个）
- 其他字段均为可选

**响应：**

```json
{
  "code": "0",
  "message": "string"
}
```

### 更新一条咨询记录

**URL:** `api/admin/interview/records/profile/update`

**请求：**

```json
{
  "user_id": "string",
  "token": "string",
  "id": "string",
  "visitStatus": "string",
  "description": "string",
  "doctorEvaluation": "string",
  "followUpPlan": "string",
  "nextVisitPlan": "string",
  "crisisStatus": "string",
  "consultantName": "string",
  "isThirdPartyEvaluation": "string",
  "signatureImage": "file",
  "attachImages": "file"
}
```

**说明：**
- `user_id`: 必选，管理员用户ID
- `token`: 必选，认证Token
- `id`: 必选，咨询记录（会话）id
- `signatureImage`: 可选，文件类型（签名图片）
- `attachImages`: 可选，文件类型（附加图片，支持多个）
- 其他字段均为可选

**响应：**

```json
{}
```

### 获取个人档案

**URL:** `api/admin/interview/records/personal-profile`

**请求：**

```json
{
  "user_id": "string",
  "token": "string",
  "id": "string"
}
```

**说明：**
- `user_id`: 必选，管理员用户ID
- `token`: 必选，认证Token
- `id`: 必选，咨询档案id

**响应：**

```json
{
  "code": "string",
  "message": "string",
  "data": {
    "name": "string",
    "id": "string",
    "gender": "string",
    "age": "string",
    "education": "string",
    "occupation": "string",
    "maritalStatus": "string",
    "contact": "string",
    "emergencyContact": {
      "name": "string",
      "relationship": "string",
      "phone": "string"
    },
    "referral": "string",
    "complaint": "string",
    "goal": "string"
  }
}
```

## 管理端——访谈评估

### 只查询返回所有年级的名字

**URL:** `api/admin/interview/grade_list`

**请求：**

```json
{
  "user_id": "string",
  "token": "string"
}
```

**说明：**
- `user_id`: 必选，管理员用户ID
- `token`: 必选，认证Token

**响应：**
```json
{
  "data": ["一年级", "二年级", "三年级", ...]
}
```

要求返回访谈评估表里面所有的年级名，而且不能有重复

### 只查询返回所有班级的名字

**URL:** `api/admin/interview/class_list`

**请求：**

```json
{
  "user_id": "string",
  "token": "string"
}
```

**说明：**
- `user_id`: 必选，管理员用户ID
- `token`: 必选，认证Token

**响应：**
```json
{
  "data": ["1班", "2班", "3班", ...]
}
```

要求返回访谈评估表里面所有的班级名，而且不能有重复