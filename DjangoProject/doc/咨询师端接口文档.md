---
title: 默认模块
language_tabs:
  - shell: Shell
  - http: HTTP
  - javascript: JavaScript
  - ruby: Ruby
  - python: Python
  - php: PHP
  - java: Java
  - go: Go
toc_footers: []
includes: []
search: true
code_clipboard: true
highlight_theme: darkula
headingLevel: 2
generator: "@tarslib/widdershins v4.0.30"

---

# 默认模块

Base URLs:

# Authentication

## 认证说明

**重要提示：** 除了登录、注册、发送验证码等公开接口外，所有接口都需要在请求体中携带以下认证参数：

- `userID` (integer, 必填): 咨询师用户ID
- `token` (string, 必填): 认证Token，通过登录接口获取

**认证失败响应格式：**
```json
{
  "code": 401,
  "message": "认证失败：用户ID与Token不匹配或Token已过期"
}
```

**响应格式说明：**
所有接口的响应都遵循以下格式：
```json
{
  "code": 0,  // 0表示成功，非0表示失败
  "message": "string",  // 响应消息
  "data": {}  // 具体数据（可选）
}
```

# 咨询师端/登录/注册

## POST 登录

POST /api/consultant/auth/login

> Body 请求参数

```json
{
  "loginType": "string",
  "accountType": "string",
  "account": "string",
  "credential": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» loginType|body|string| 是 | 登录类型|password 或者 code|
|» accountType|body|string| 是 | 账户类型|email 或者 phone|
|» account|body|string| 是 | 账号|none|
|» credential|body|string| 是 | 密码或验证码|none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "message": "string",
  "data": {
    "token": "string",
    "userInfo": {
      "userID": 0,
      "userName": "string",
      "name": "string",
      "phone": "string",
      "email": "string",
      "organization": "string",
      "avatar": "string"
    }
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» message|string|true|none||none|
|» data|object|true|none||none|
|»» token|string|true|none||none|
|»» userInfo|object|true|none||none|
|»»» userID|integer|true|none||none|
|»»» userName|string|true|none|用户名|none|
|»»» name|string|false|none|姓名|none|
|»»» phone|string|false|none||none|
|»»» email|string|false|none||none|
|»»» organization|string|false|none|所属组织|none|
|»»» avatar|string|false|none|头像url|none|

## POST 注册

POST /api/consultant/auth/register

> Body 请求参数

```json
{
  "userName": "string",
  "account": "string",
  "accountType": "string",
  "password": "string",
  "verificationCode": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» userName|body|string| 是 ||none|
|» account|body|string| 是 ||none|
|» accountType|body|string| 是 ||email 或者 phone|
|» password|body|string| 是 ||none|
|» verificationCode|body|string| 是 | 验证码|邮箱验证码 或者 手机短信验证码|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "message": "string"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» message|string|true|none||none|

## POST 给用户发送邮箱验证码

POST /api/consultant/auth/email

> Body 请求参数

```yaml
email: ""

```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» email|body|string| 否 ||none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "message": "string"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» message|string|true|none||none|

## POST 给用户发送短信验证码

POST /api/consult/auth/phone

> Body 请求参数

```yaml
phone: ""

```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» phone|body|string| 否 ||none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "message": "string"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» message|string|true|none||none|

## POST 重置用户密码

POST /api/consultant/auth/reset-password

> Body 请求参数

```json
{
  "accountType": "string",
  "account": "string",
  "verificationCode": "string",
  "newPassword": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» accountType|body|string| 是 ||email(邮箱) | phone(手机)|
|» account|body|string| 是 ||none|
|» verificationCode|body|string| 是 | 验证码|none|
|» newPassword|body|string| 是 ||none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "message": "string"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» message|string|true|none||none|

## POST 注销账号接口

POST /api/consultant/auth/deactivate

通过手机号或邮箱+验证码的形式注销账号

> Body 请求参数

```json
{
  "token": "string",
  "accountType": "string",
  "account": "string",
  "verificationCode": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» token|body|string| 是 ||none|
|» accountType|body|string| 是 ||none|
|» account|body|string| 是 ||none|
|» verificationCode|body|string| 是 ||none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "message": "string"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» message|string|true|none||none|

# 咨询师端/首页

## POST 获取今日咨询交易情况

POST /api/consultant/dashboard/today-transactions

> Body 请求参数

```json
{
  "userID": 0,
  "token": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» userID|body|integer| 是 ||none|
|» token|body|string| 是 ||none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "message": "string",
  "data": {
    "count": 0,
    "amount": 0
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» message|string|true|none||none|
|» data|object|true|none||none|
|»» count|integer|true|none|交易数量|none|
|»» amount|integer|true|none|总交易金额|none|

## POST 获取咨询类别占比数据

POST /api/consultant/dashboard/category-data

> Body 请求参数

```json
{
  "userID": 0,
  "token": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» userID|body|integer| 是 ||none|
|» token|body|string| 是 ||none|

> 返回示例

> 200 Response

```json
{
  "code": "string",
  "message": "string",
  "data": {
    "online": 0,
    "outline": 0
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|string|true|none||none|
|» message|string|true|none||none|
|» data|object|true|none||none|
|»» online|integer|true|none||线上咨询数量|
|»» outline|integer|true|none||线下咨询数量|

## POST 获取年度咨询量数据

POST /api/consultant/dashboard/yearly-consultations

> Body 请求参数

```json
{
  "userID": 0,
  "token": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» userID|body|integer| 是 ||none|
|» token|body|string| 是 ||none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "message": "string",
  "data": {
    "total": 0,
    "data": [
      0
    ]
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» message|string|true|none||none|
|» data|object|true|none||none|
|»» total|integer|true|none|年度咨询量|按人数计算|
|»» data|[integer]|true|none|月份咨询量|从1月到12月份的咨询量|

## POST 获取时段预约趋势数据

POST /api/consultant/dashboard/time-slot-data

> Body 请求参数

```json
{
  "userID": 0,
  "token": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» userID|body|integer| 是 ||none|
|» token|body|string| 是 ||none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "message": "string",
  "data": {
    "timeSlots": [
      0
    ],
    "appointments": [
      0
    ]
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none|响应码|200|
|» message|string|true|none||none|
|» data|object|true|none||none|
|»» timeSlots|[integer]|true|none||none|
|»» appointments|[integer]|true|none||none|

## POST 获取用户性别分布数据

POST /api/consultant/dashboard/gender-data

> Body 请求参数

```json
{
  "userID": "string",
  "token": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» userID|body|string| 是 ||none|
|» token|body|string| 是 ||none|

> 返回示例

> 200 Response

```json
{
  "code": "string",
  "message": "string",
  "data": {
    "male": 0,
    "female": 0
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|string|true|none||none|
|» message|string|true|none||none|
|» data|object|true|none||none|
|»» male|integer|true|none||none|
|»» female|integer|true|none||none|

## POST 获取用户年龄分布数据

POST /api/consultant/dashboard/age-data

> Body 请求参数

```json
{
  "userID": "string",
  "token": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» userID|body|string| 是 ||none|
|» token|body|string| 是 ||none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "message": "string",
  "data": {
    "values": [
      0
    ]
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» message|string|true|none||none|
|» data|object|true|none||none|
|»» values|[integer]|true|none|对应年龄段的的人数|按["1-17", "18-25", "26-35", "36-45", "46-55", "55+"]来划分|

# 咨询师端/咨询列表

## POST 获取咨询列表

POST /api/consultant/orders

支持查看待接单列表、咨询中列表、已结束列表、已拒绝咨询列表

> Body 请求参数

```json
{
  "userID": 0,
  "token": "string",
  "page": 0,
  "pageSize": 0,
  "name": "string",
  "date_start": "string",
  "date_end": "string",
  "type": "string",
  "status": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» userID|body|integer| 是 |咨询师用户ID|none|
|» token|body|string| 是 |认证Token|none|
|» page|body|integer| 是 ||none|
|» pageSize|body|integer| 是 ||none|
|» name|body|string| 是 ||none|
|» date_start|body|string| 是 ||none|
|» date_end|body|string| 是 ||none|
|» type|body|string| 是 | 服务类型|在线咨询/线下咨询|
|» status|body|string| 是 | 状态|已结束、咨询师中、等待中、待接单、已拒绝|

> 返回示例

> 200 Response

```json
{
  "code": "string",
  "message": "string",
  "data": {
    "total": 0,
    "data": [
      {
        "id": 0,
        "order_id": "string",
        "gender": "string",
        "age": "string",
        "type": "string",
        "key_word": "string",
        "date": "string",
        "time": "string",
        "commit_time": "string",
        "finish_time": "string",
        "status": "string",
        "contact": "string"
      }
    ]
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|string|true|none||none|
|» message|string|true|none||none|
|» data|object|true|none||none|
|»» total|integer|true|none||none|
|»» data|[object]|true|none||none|
|»»» id|integer|true|none||none|
|»»» order_id|string|true|none||none|
|»»» gender|string|true|none||none|
|»»» age|string|true|none||none|
|»»» type|string|true|none||none|
|»»» key_word|string|true|none||none|
|»»» date|string|true|none||none|
|»»» time|string|true|none||none|
|»»» commit_time|string|true|none||none|
|»»» finish_time|string|true|none||none|
|»»» status|string|true|none||none|
|»»» contact|string|true|none|联系方式|手机号或者微信号|

## POST 新增来访/创建咨询订单

POST /api/consultant/orders/create

> Body 请求参数

```json
{
  "userID": 0,
  "token": "string",
  "name": "string",
  "age": "string",
  "gender": "string",
  "type": "string",
  "date": "string",
  "time": "string",
  "contact": "string",
  "key_word": [
    "string"
  ]
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» userID|body|integer| 是 |咨询师用户ID|none|
|» token|body|string| 是 |认证Token|none|
|» name|body|string| 是 | 姓名|none|
|» age|body|string| 是 ||none|
|» gender|body|string| 是 ||none|
|» type|body|string| 是 ||none|
|» date|body|string| 是 ||none|
|» time|body|string| 是 ||none|
|» contact|body|string| 是 ||none|
|» key_word|body|[string]| 是 | 关键字|none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "message": "string",
  "id": 0
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» message|string|true|none||none|
|» id|integer|true|none||ID 编号|

# 咨询师端/咨询档案

## POST 获取咨询档案列表

POST /api/consultant/interview/records

只能查看与该咨询师用户有关的数据

> Body 请求参数

```json
{
  "userID": "string",
  "token": "string",
  "page": 0,
  "page_size": "string",
  "std_name": "string",
  "std_grade": "string",
  "std_class": "string",
  "std_school": "string",
  "interview_count": "string",
  "interview_status": "string",
  "interview_type": "string",
  "doctor_evaluation": "string",
  "follow_up_plan": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» userID|body|string| 是 ||none|
|» token|body|string| 是 ||none|
|» page|body|integer| 是 ||none|
|» page_size|body|string| 是 ||none|
|» std_name|body|string| 否 ||none|
|» std_grade|body|string| 否 ||none|
|» std_class|body|string| 否 ||none|
|» std_school|body|string| 否 ||none|
|» interview_count|body|string| 否 ||none|
|» interview_status|body|string| 否 ||none|
|» interview_type|body|string| 否 ||none|
|» doctor_evaluation|body|string| 否 ||none|
|» follow_up_plan|body|string| 否 ||none|

> 返回示例

> 200 Response

```json
{
  "code": "string",
  "message": "string",
  "data": {
    "total": 0,
    "data": [
      {
        "id": "string",
        "std_name": "string",
        "std_grade": "string",
        "std_class": "string",
        "std_school": "string",
        "interview_count": "string",
        "interview_status": "string",
        "interview_type": "string",
        "doctor_evaluation": "string",
        "follow_up_plan": "string",
        "create_time": "string"
      }
    ]
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|string|true|none||none|
|» message|string|true|none||none|
|» data|object|true|none||none|
|»» total|integer|true|none||none|
|»» data|[object]|true|none||none|
|»»» id|string|true|none||none|
|»»» std_name|string|true|none||none|
|»»» std_grade|string|true|none||none|
|»»» std_class|string|true|none||none|
|»»» std_school|string|true|none||none|
|»»» interview_count|string|true|none||none|
|»»» interview_status|string|true|none||none|
|»»» interview_type|string|true|none||none|
|»»» doctor_evaluation|string|true|none||none|
|»»» follow_up_plan|string|true|none||none|
|»»» create_time|string|true|none||none|

## POST 创建一条访谈/档案记录

POST /api/consuntant/interview/records/create

> Body 请求参数

```json
{
  "userID": 0,
  "token": "string",
  "std_name": "string",
  "std_grade": "string",
  "std_class": "string",
  "std_school": "string",
  "interview_count": "string",
  "interview_status": "string",
  "interview_type": "string",
  "doctor_evaluation": "string",
  "follow_up_plan": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» userID|body|integer| 是 |咨询师用户ID|none|
|» token|body|string| 是 |认证Token|none|
|» std_name|body|string| 是 ||none|
|» std_grade|body|string| 是 ||none|
|» std_class|body|string| 是 ||none|
|» std_school|body|string| 是 ||none|
|» interview_count|body|string| 是 ||none|
|» interview_status|body|string| 是 ||none|
|» interview_type|body|string| 是 ||none|
|» doctor_evaluation|body|string| 是 ||none|
|» follow_up_plan|body|string| 是 ||none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "message": "string"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» message|string|true|none||none|

## POST 删除一条访谈/档案记录

POST /api/consultant/interview/records/delete

删除该条档案后，改档案所有次数的咨询记录也都删除

> Body 请求参数

```json
{
  "userID": 0,
  "token": "string",
  "id": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» userID|body|integer| 是 ||none|
|» token|body|string| 是 ||none|
|» id|body|string| 是 ||要删除的记录的id|

> 返回示例

> 200 Response

```json
{
  "code": "string",
  "message": "string"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|string|true|none||none|
|» message|string|true|none||none|

## POST 上传访谈记录文件 .xls .xlsx

POST /api/consultant/interview/upload/records

> Body 请求参数

```yaml
token: ""
files: ""

```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» token|body|string| 否 ||none|
|» files|body|string(binary)| 否 ||none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "message": "string"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» message|string|true|none||none|

## POST 上传模板文件

POST /api/consultant/interview/upload/template

> Body 请求参数

```yaml
token: ""
files: ""

```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» token|body|string| 否 ||none|
|» files|body|string(binary)| 否 ||none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "message": "string"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» message|string|true|none||none|

## POST 下载模板文件

POST /api/consultant/interview/download

> Body 请求参数

```json
{
  "token": "string",
  "fileNames": [
    "string"
  ]
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» token|body|string| 是 ||none|
|» fileNames|body|[string]| 是 ||none|

> 返回示例

> 200 Response

```json
{
  "code": "string",
  "message": "string"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|string|true|none||none|
|» message|string|true|none||none|

## POST 查询模板文件列表

POST /api/consultant/interview/template/list

> Body 请求参数

```json
{
  "token": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» token|body|string| 是 ||none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "message": "string",
  "data": [
    {
      "fileName": "string",
      "fileSize": "string"
    }
  ]
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» message|string|true|none||none|
|» data|[object]|true|none||none|
|»» fileName|string|true|none||none|
|»» fileSize|string|true|none||none|

## POST 获取咨询档案的详细咨询记录

POST /api/consultant/interview/records/profile

返回所有咨询记录的列表，而不是指定第几次的记录。

> Body 请求参数

```json
{
  "userID": 0,
  "token": "string",
  "id": 0
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» userID|body|integer| 是 |咨询师用户ID|none|
|» token|body|string| 是 |认证Token|none|
|» id|body|integer| 是 ||咨询档案的ID|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "message": "string",
  "data": [
    {
      "id": 0,
      "count": "string",
      "name": "string",
      "gender": "string",
      "studentId": "string",
      "school": "string",
      "grade": "string",
      "class": "string",
      "date": "string",
      "time": "string",
      "duration": "string",
      "visitStatus": "string",
      "description": "string",
      "doctorEvaluation": "string",
      "followUpPlan": "string",
      "nextVisitPlan": "string",
      "crisisStatus": "string",
      "consultantName": "string",
      "signatureImage": "string",
      "attachImage": "string",
      "isThirdPartyEvaluation": true
    }
  ]
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» message|string|true|none||none|
|» data|[object]|true|none||none|
|»» id|integer|true|none||none|
|»» count|string|true|none|访谈次数，第几次|none|
|»» name|string|true|none||none|
|»» gender|string|true|none||none|
|»» studentId|string|true|none|学籍号|none|
|»» school|string|true|none||none|
|»» grade|string|true|none||none|
|»» class|string|true|none||none|
|»» date|string|true|none|访谈日期|none|
|»» time|string|true|none|访谈时间|none|
|»» duration|string|true|none|访谈时长|none|
|»» visitStatus|string|true|none|访谈状态|none|
|»» description|string|true|none|客观描述|none|
|»» doctorEvaluation|string|true|none|医生评定|none|
|»» followUpPlan|string|true|none|后续计划|none|
|»» nextVisitPlan|string|true|none|下次访谈计划|none|
|»» crisisStatus|string|true|none|危机状态|none|
|»» consultantName|string|true|none|咨询师姓名|none|
|»» signatureImage|string|true|none|签名图片|none|
|»» attachImage|string|true|none|附加图片。|none|
|»» isThirdPartyEvaluation|boolean|true|none|是否为他评|none|

## POST 新建一条咨询记录

POST /api/consultant/interview/records/profile/create

给咨询档案添加新的咨询记录

> Body 请求参数

```yaml
token: ""
count: ""
name: ""
gender: ""
studentId: ""
school: ""
grade: ""
class: ""
date: ""
time: ""
duration: ""
visitStatus: ""
description: ""
doctorEvaluation: ""
followUpPlan: ""
nextVisitPlan: ""
crisisStatus: ""
consultantName: ""
isThirdPartyEvaluation: ""
signatureImage: ""
attachImages: ""

```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» token|body|string| 否 ||none|
|» count|body|string| 否 ||none|
|» name|body|string| 否 ||none|
|» gender|body|string| 否 ||none|
|» studentId|body|string| 否 ||none|
|» school|body|string| 否 ||none|
|» grade|body|string| 否 ||none|
|» class|body|string| 否 ||none|
|» date|body|string| 否 ||none|
|» time|body|string| 否 ||none|
|» duration|body|string| 否 ||none|
|» visitStatus|body|string| 否 ||none|
|» description|body|string| 否 ||none|
|» doctorEvaluation|body|string| 否 ||none|
|» followUpPlan|body|string| 否 ||none|
|» nextVisitPlan|body|string| 否 ||none|
|» crisisStatus|body|string| 否 ||none|
|» consultantName|body|string| 否 ||none|
|» isThirdPartyEvaluation|body|string| 否 ||none|
|» signatureImage|body|string(binary)| 否 ||none|
|» attachImages|body|string(binary)| 否 ||none|

> 返回示例

> 200 Response

```json
{
  "code": "string",
  "message": "string"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|string|true|none||none|
|» message|string|true|none||none|

## POST 更新一条咨询记录

POST /api/consultant/interview/records/profile/update

只能更新基本信息以外的数据。

> Body 请求参数

```yaml
token: ""
visitStatus: ""
description: ""
doctorEvaluation: ""
followUpPlan: ""
nextVisitPlan: ""
crisisStatus: ""
consultantName: ""
isThirdPartyEvaluation: ""
signatureImage: ""
attachImages: ""

```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» token|body|string| 否 ||none|
|» visitStatus|body|string| 否 ||none|
|» description|body|string| 否 ||none|
|» doctorEvaluation|body|string| 否 ||none|
|» followUpPlan|body|string| 否 ||none|
|» nextVisitPlan|body|string| 否 ||none|
|» crisisStatus|body|string| 否 ||none|
|» consultantName|body|string| 否 ||none|
|» isThirdPartyEvaluation|body|string| 否 ||none|
|» signatureImage|body|string| 否 ||none|
|» attachImages|body|string| 否 ||none|

> 返回示例

> 200 Response

```json
{}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

## POST 获取个人档案

POST /api/consultant/interview/records/personal-profile

根据咨询ID获取档案

> Body 请求参数

```json
{
  "token": "string",
  "id": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» token|body|string| 是 ||none|
|» id|body|string| 是 ||none|

> 返回示例

> 200 Response

```json
{
  "code": "string",
  "message": "string",
  "data": {
    "name": "string",
    "id": "string",
    "gender": "string",
    "age": "string",
    "education": "string",
    "occupation": "string",
    "maritalStatus": "string",
    "contact": "string",
    "emergencyContact": {
      "name": "string",
      "relationship": "string",
      "phone": "string"
    },
    "referral": "string",
    "complaint": "string",
    "goal": "string"
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|string|true|none||none|
|» message|string|true|none||none|
|» data|object|true|none||none|
|»» name|string|true|none||none|
|»» id|string|true|none||来访者编号/id|
|»» gender|string|true|none||none|
|»» age|string|true|none||none|
|»» education|string|true|none||教育程度|
|»» occupation|string|true|none||职业|
|»» maritalStatus|string|true|none||婚姻状况|
|»» contact|string|true|none||联系方式|
|»» emergencyContact|object|true|none||紧急联系人|
|»»» name|string|true|none||姓名|
|»»» relationship|string|true|none||关系|
|»»» phone|string|true|none||电话|
|»» referral|string|true|none||咨询来源|
|»» complaint|string|true|none||主诉问题|
|»» goal|string|true|none||咨询目标|

# 咨询师端/排班管理

## POST 按年月份获取排班管理信息

POST /api/consultant/schedule/work

只返回该用户所属机构的排班数据

> Body 请求参数

```json
{
  "userID": 0,
  "token": "string",
  "year": "string",
  "month": "string",
  "organization": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» year|body|string| 是 ||none|
|» month|body|string| 是 ||none|
|» token|body|string| 是 ||none|
|» organization|body|string| 是 ||none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "message": "string",
  "data": [
    {
      "date": 0,
      "schedules": [
        {
          "id": 0,
          "name": "string",
          "work_time": "string"
        }
      ]
    }
  ]
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» message|string|true|none||none|
|» data|[object]|true|none||none|
|»» date|integer|true|none||none|
|»» schedules|[object]|true|none||none|
|»»» id|integer|true|none||ID 编号|
|»»» name|string|true|none||none|
|»»» work_time|string|true|none||none|

## POST 给单个日期添加或修改排班

POST /api/consultant/schedule/work/update

用户只能修改自己的排班时间

> Body 请求参数

```json
{
  "year": 0,
  "month": 0,
  "date": 0,
  "user_id": 0,
  "work_schedules": [
    "string"
  ]
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» year|body|integer| 是 ||none|
|» month|body|integer| 是 ||none|
|» date|body|integer| 是 ||none|
|» user_id|body|integer| 是 ||none|
|» work_schedules|body|[string]| 是 | 排班时间段|none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "message": "string"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||响应码|
|» message|string|true|none||消息|

## POST 上传文件批量排班

POST /api/consultant/schedule/upload

> Body 请求参数

```yaml
user_id: ""
token: ""
files: ""

```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» user_id|body|string| 否 ||none|
|» token|body|string| 否 ||none|
|» files|body|string(binary)| 否 ||none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "message": "string"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||响应码|
|» message|string|true|none||消息|

## POST 获取停诊信息

POST /api/consultant/schedule/stop

只能获取用户本人的停诊信息

> Body 请求参数

```json
{
  "userID": 0,
  "token": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» userID|body|integer| 是 |咨询师用户ID|none|
|» token|body|string| 是 |认证Token|none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "message": "string",
  "data": [
    {
      "name": "string",
      "start_time": "string",
      "end_time": "string"
    }
  ]
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||响应码|
|» message|string|true|none||消息|
|» data|[object]|true|none||数据|
|»» name|string|true|none||none|
|»» start_time|string|true|none||none|
|»» end_time|string|true|none||none|

## POST 添加/修改/删除停诊安排

POST /api/consultant/schedule/stop/update

咨询师只能安排自己的停诊。stop_schedules为该咨询师停诊时间的列表，直接覆写。

> Body 请求参数

```json
{
  "userID": 0,
  "token": "string",
  "stop_schedules": [
    {
      "start_time": "string",
      "end_time": "string"
    }
  ]
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» userID|body|integer| 是 |咨询师用户ID|none|
|» token|body|string| 是 |认证Token|none|
|» stop_schedules|body|[object]| 是 ||none|
|»» start_time|body|string| 是 ||none|
|»» end_time|body|string| 是 ||none|

> 返回示例

> 200 Response

```json
{}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

# 咨询师端/个人中心

## POST 获取客户对咨询师的评论

POST /api/consuntant/user/comments

支持查看客户对咨询师的评论记录

> Body 请求参数

```json
{
  "userID": 0,
  "token": "string",
  "page": 0,
  "pageSize": 0
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» userID|body|integer| 是 ||none|
|» token|body|string| 是 ||none|
|» page|body|integer| 是 ||none|
|» pageSize|body|integer| 是 ||none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "message": "string",
  "data": [
    {
      "id": "string",
      "avatar": "string",
      "username": "string",
      "name": "string",
      "organization": "string",
      "time": "string",
      "content": "string",
      "rating": "string"
    }
  ]
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» message|string|true|none||none|
|» data|[object]|true|none||none|
|»» id|string|true|none||none|
|»» avatar|string|true|none||none|
|»» username|string|true|none||none|
|»» name|string|true|none||none|
|»» organization|string|true|none||none|
|»» time|string|true|none||none|
|»» content|string|true|none||none|
|»» rating|string|true|none||none|

## POST 获取用户详情信息

POST /api/consultant/user/profile

获取用户的详情数据，没有的字段返回空即可

> Body 请求参数

```json
{
  "userID": 0,
  "token": "string"
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» userID|body|integer| 是 ||none|
|» token|body|string| 是 ||none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "message": "string",
  "data": {
    "avatar": "string",
    "username": "string",
    "name": "string",
    "phone": "string",
    "email": "string",
    "organization": "string",
    "introduction": "string",
    "experience": "string",
    "expertise": "string",
    "education": "string",
    "certifications": "string"
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» message|string|true|none||none|
|» data|object|true|none||none|
|»» avatar|string|true|none||none|
|»» username|string|true|none||none|
|»» name|string|true|none||none|
|»» phone|string|true|none||none|
|»» email|string|true|none||none|
|»» organization|string|true|none||none|
|»» introduction|string|true|none||none|
|»» experience|string|true|none||none|
|»» expertise|string|true|none||none|
|»» education|string|true|none||none|
|»» certifications|string|true|none|证书|none|

## POST 更新用户信息

POST /api/consultant/user/updateProfile

前端会发送完整的数据，直接覆盖修改即可

> Body 请求参数

```json
{
  "userID": 0,
  "token": "string",
  "profile": {
    "username": "string",
    "name": "string",
    "phone": "string",
    "email": "string",
    "organization": "string",
    "introduction": "string",
    "experience": "string",
    "expertise": "string",
    "education": "string",
    "certifications": "string"
  }
}
```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» userID|body|integer| 是 ||none|
|» token|body|string| 是 ||none|
|» profile|body|object| 是 ||none|
|»» username|body|string| 是 ||none|
|»» name|body|string| 是 ||none|
|»» phone|body|string| 是 ||none|
|»» email|body|string| 是 ||none|
|»» organization|body|string| 是 ||none|
|»» introduction|body|string| 是 ||none|
|»» experience|body|string| 是 ||none|
|»» expertise|body|string| 是 ||none|
|»» education|body|string| 是 ||none|
|»» certifications|body|string| 是 ||none|

> 返回示例

> 200 Response

```json
{
  "code": "string",
  "message": "string"
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|string|true|none||none|
|» message|string|true|none||none|

## POST 更新用户头像

POST /api/consultant/updateAvatar

> Body 请求参数

```yaml
userID: 0
token: ""
avatar: ""

```

### 请求参数

|名称|位置|类型|必选|中文名|说明|
|---|---|---|---|---|---|
|body|body|object| 否 ||none|
|» userID|body|integer| 否 ||none|
|» token|body|string| 否 ||none|
|» avatar|body|string(binary)| 否 ||none|

> 返回示例

> 200 Response

```json
{
  "code": 0,
  "message": "string",
  "data": {
    "avatar": "string"
  }
}
```

### 返回结果

|状态码|状态码含义|说明|数据模型|
|---|---|---|---|
|200|[OK](https://tools.ietf.org/html/rfc7231#section-6.3.1)|none|Inline|

### 返回数据结构

状态码 **200**

|名称|类型|必选|约束|中文名|说明|
|---|---|---|---|---|---|
|» code|integer|true|none||none|
|» message|string|true|none||none|
|» data|object|true|none||none|
|»» avatar|string|true|none||none|

# 数据模型

